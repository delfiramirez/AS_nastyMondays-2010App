package com.segonquart{	import flash.display.MovieClip;	import flash.display.Loader;	import flash.events.Event;	import flash.events.IEventDispatcher;	import flash.net.URLRequest;	import flash.display.Bitmap;		public class ThumbLoader 	{		private var _fla:MovieClip;		private var id:int;		private var loader:Loader;		private var url_:String;				public function ThumbLoader(fla:MovieClip,url:String,n:int)		{			_fla=fla;			url_=url;			id=n;						_fla.info_txt.text=(id+1)+" / "+_fla.objects_array.length;						init();		}				private function init():void 		{			var request:URLRequest=new URLRequest(url_);			loader=new Loader();			initListeners(loader.contentLoaderInfo);			loader.load(request);		}				private function initListeners(dispatcher:IEventDispatcher):void 		{			dispatcher.addEventListener(Event.COMPLETE,completato);		}				private function completato(event:Event):void 		{			createThumb();		}				private function removeListeners(dispatcher:IEventDispatcher):void 		{			dispatcher.removeEventListener(Event.COMPLETE,completato);		}				private function createThumb():void		{			var thumb:Bitmap=loader.content as Bitmap;			thumb.smoothing=true;						_fla.thumbs_array.push(thumb);						removeListeners(loader.contentLoaderInfo);			loader=null;						if(id<_fla.objects_array.length-1)				_fla.loadThumb();			else				_fla.loadingNewsComplete();		}	}}